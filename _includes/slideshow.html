{% assign images = site.data.slideshows[include.gallery] %}
{% assign slide_id = include.id | default: include.gallery | prepend: "slideshow-" %}
{% if images %}
<div id="{{ slide_id }}" class="slideshow-wrapper">
<div class="slideshow-container">
    {% for img in images %}
    <div class="mySlides fade"><img src="{{ img }}" alt=""></div>
    {% endfor %}
</div>
<br>
<div style="text-align:center">
    {% for img in images %}
    <span class="dot"></span>
    {% endfor %}
</div>
<script>
(function() {
    var container = document.getElementById("{{ slide_id }}");
    if (!container) return;
    var slideIndex = 0;
    function showSlides() {
        var slides = container.getElementsByClassName("mySlides");
        var dots = container.getElementsByClassName("dot");
        for (var i = 0; i < slides.length; i++) { slides[i].style.display = "none"; }
        slideIndex++;
        if (slideIndex > slides.length) { slideIndex = 1; }
        for (i = 0; i < dots.length; i++) { dots[i].className = dots[i].className.replace(" active", ""); }
        if (slides[slideIndex - 1]) { slides[slideIndex - 1].style.display = "flex"; }
        if (dots[slideIndex - 1]) { dots[slideIndex - 1].className += " active"; }
        setTimeout(showSlides, 3000);
    }
    showSlides();
})();
</script>
</div>
{% endif %}
